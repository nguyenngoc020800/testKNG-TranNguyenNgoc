{"ast":null,"code":"import _slicedToArray from\"C:/Users/ASUS/Desktop/live-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/ASUS/Desktop/live-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect,useRef}from\"react\";import styled from\"styled-components\";import{useNavigate}from\"react-router-dom\";import UserDetails from\"../components/UserDetails\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 90%;\\n  margin: 0 auto;\\n  .input {\\n    width: 100%;\\n    position: relative;\\n    border-radius: 30px;\\n    border: solid 1px #333;\\n    &:focus-within {\\n      background-color: #fff;\\n      box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\\n      border: solid 1px #fff;\\n    }\\n    .textBox {\\n      width: 100%;\\n      background-color: transparent;\\n      font-size: 14px;\\n      line-height: 50px;\\n      border-radius: 30px;\\n      padding-left: 10px;\\n      border: none;\\n      position: relative;\\n      &:focus {\\n        outline: 0;\\n        background-color: #fff;\\n      }\\n      &::placeholder {\\n        color: #bfbfc5;\\n        font-size: 14px;\\n      }\\n    }\\n  }\\n  .dropdown {\\n    background-color: #fff;\\n    width: 100%;\\n    border: none;\\n    .film-items {\\n      border: solid 1px gray;\\n      border-radius: 10px;\\n      img {\\n        border-radius: 10px;\\n      }\\n      .admin-action {\\n      }\\n    }\\n  }\\n\"])));var UserListContent=function UserListContent(props){var dispatch=useDispatch();var navigate=useNavigate();var inputRef=useRef();var listActive=props.listActive,placeholder=props.placeholder;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(listActive),_useState4=_slicedToArray(_useState3,2),listFilter=_useState4[0],setListFilter=_useState4[1];var handleChangeSearch=function handleChangeSearch(e){var keyword=e.target.value;console.log(keyword);if(keyword!==\"\"){var results=listActive.filter(function(item){var _e$target$value;var fullname=String(\"\".concat(item.firstName,\" \").concat(item.lastName));return String(fullname).toUpperCase().indexOf((_e$target$value=e.target.value)===null||_e$target$value===void 0?void 0:_e$target$value.toUpperCase())>-1;});if(results.length){setListFilter(results);}else{setListFilter(null);}}else{setListFilter(listActive);}setSearch(keyword);};// const handleClickButton = (e) => {\n//   inputRef.current.value = e.target.innerHTML;\n//   setSearch(inputRef.current.value);\n//   setListFilter(null);\n//   sendLocationfromInput(inputRef.current.value);\n// };\n// console.log(search, listFilter);\nuseEffect(function(){setListFilter(listActive);},[listActive]);if(!listFilter||listFilter.length===0){return/*#__PURE__*/_jsx(\"h2\",{children:\"danh s\\xE1ch tr\\u1ED1ng\"});}return/*#__PURE__*/_jsxs(Search,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"input my-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",onChange:handleChangeSearch,value:search,className:\"textBox\",placeholder:placeholder,ref:inputRef})}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown\",children:listFilter===null||listFilter===void 0?void 0:listFilter.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"align-items-center w-100 d-flex film-items p-3 justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.id}),/*#__PURE__*/_jsxs(\"span\",{children:[item.firstName,\" \",item.lastName]}),/*#__PURE__*/_jsx(\"span\",{children:item.phoneNumber}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-action d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"update-del \",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(\"/update/\".concat(item.id));},className:\"btn btn-outline-primary m-2\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger m-2\",onClick:function onClick(){dispatch({type:\"form/deleteUser\",payload:item.id});},children:\"Delete\"})]}),/*#__PURE__*/_jsx(UserDetails,{user:item})]})]},index);})})]});};export default UserListContent;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","useNavigate","UserDetails","useDispatch","Search","div","UserListContent","props","dispatch","navigate","inputRef","listActive","placeholder","search","setSearch","listFilter","setListFilter","handleChangeSearch","e","keyword","target","value","console","log","results","filter","item","fullname","String","firstName","lastName","toUpperCase","indexOf","length","map","index","id","phoneNumber","type","payload"],"sources":["C:/Users/ASUS/Desktop/live-app/src/modules/home/components/UserListContent.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport UserDetails from \"../components/UserDetails\";\r\nimport { useDispatch } from \"react-redux\";\r\nconst Search = styled.div`\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  .input {\r\n    width: 100%;\r\n    position: relative;\r\n    border-radius: 30px;\r\n    border: solid 1px #333;\r\n    &:focus-within {\r\n      background-color: #fff;\r\n      box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\r\n      border: solid 1px #fff;\r\n    }\r\n    .textBox {\r\n      width: 100%;\r\n      background-color: transparent;\r\n      font-size: 14px;\r\n      line-height: 50px;\r\n      border-radius: 30px;\r\n      padding-left: 10px;\r\n      border: none;\r\n      position: relative;\r\n      &:focus {\r\n        outline: 0;\r\n        background-color: #fff;\r\n      }\r\n      &::placeholder {\r\n        color: #bfbfc5;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  .dropdown {\r\n    background-color: #fff;\r\n    width: 100%;\r\n    border: none;\r\n    .film-items {\r\n      border: solid 1px gray;\r\n      border-radius: 10px;\r\n      img {\r\n        border-radius: 10px;\r\n      }\r\n      .admin-action {\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UserListContent = (props) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const inputRef = useRef();\r\n  const { listActive, placeholder } = props;\r\n  const [search, setSearch] = useState(\"\");\r\n  const [listFilter, setListFilter] = useState(listActive);\r\n  const handleChangeSearch = (e) => {\r\n    const keyword = e.target.value;\r\n    console.log(keyword);\r\n    if (keyword !== \"\") {\r\n      const results = listActive.filter((item) => {\r\n        const fullname = String(`${item.firstName} ${item.lastName}`);\r\n        return (\r\n          String(fullname)\r\n            .toUpperCase()\r\n            .indexOf(e.target.value?.toUpperCase()) > -1\r\n        );\r\n      });\r\n      if (results.length) {\r\n        setListFilter(results);\r\n      } else {\r\n        setListFilter(null);\r\n      }\r\n    } else {\r\n      setListFilter(listActive);\r\n    }\r\n\r\n    setSearch(keyword);\r\n  };\r\n  // const handleClickButton = (e) => {\r\n  //   inputRef.current.value = e.target.innerHTML;\r\n\r\n  //   setSearch(inputRef.current.value);\r\n  //   setListFilter(null);\r\n  //   sendLocationfromInput(inputRef.current.value);\r\n  // };\r\n  // console.log(search, listFilter);\r\n  useEffect(() => {\r\n    setListFilter(listActive);\r\n  }, [listActive]);\r\n  if (!listFilter || listFilter.length === 0) {\r\n    return <h2>danh sách trống</h2>;\r\n  }\r\n  return (\r\n    <Search>\r\n      <div className=\"input my-4\">\r\n        <input\r\n          type=\"search\"\r\n          onChange={handleChangeSearch}\r\n          value={search}\r\n          className=\"textBox\"\r\n          placeholder={placeholder}\r\n          ref={inputRef}\r\n        />\r\n      </div>\r\n      <div className=\"dropdown\">\r\n        {listFilter?.map((item, index) => {\r\n          return (\r\n            <div\r\n              key={index}\r\n              className=\"align-items-center w-100 d-flex film-items p-3 justify-content-between mb-2\"\r\n            >\r\n              <span>{item.id}</span>\r\n              <span>\r\n                {item.firstName} {item.lastName}\r\n              </span>\r\n              <span>{item.phoneNumber}</span>\r\n              <div className=\"admin-action d-flex flex-column\">\r\n                <div className=\"update-del \">\r\n                  <button\r\n                    onClick={() => {\r\n                      navigate(`/update/${item.id}`);\r\n                    }}\r\n                    className=\"btn btn-outline-primary m-2\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-outline-danger m-2\"\r\n                    onClick={() => {\r\n                      dispatch({ type: \"form/deleteUser\", payload: item.id });\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n                <UserDetails user={item} />\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </Search>\r\n  );\r\n};\r\n\r\nexport default UserListContent;\r\n"],"mappings":"4QAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFACA,GAAMC,OAAM,CAAGJ,MAAM,CAACK,GAAV,q/BAAZ,CAgDA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CACjC,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,SAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,SAAQ,CAAGX,MAAM,EAAvB,CACA,GAAQY,WAAR,CAAoCJ,KAApC,CAAQI,UAAR,CAAoBC,WAApB,CAAoCL,KAApC,CAAoBK,WAApB,CACA,cAA4Bf,QAAQ,CAAC,EAAD,CAApC,wCAAOgB,MAAP,eAAeC,SAAf,eACA,eAAoCjB,QAAQ,CAACc,UAAD,CAA5C,yCAAOI,UAAP,eAAmBC,aAAnB,eACA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,CAAD,CAAO,CAChC,GAAMC,QAAO,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAzB,CACAC,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACA,GAAIA,OAAO,GAAK,EAAhB,CAAoB,CAClB,GAAMK,QAAO,CAAGb,UAAU,CAACc,MAAX,CAAkB,SAACC,IAAD,CAAU,qBAC1C,GAAMC,SAAQ,CAAGC,MAAM,WAAIF,IAAI,CAACG,SAAT,aAAsBH,IAAI,CAACI,QAA3B,EAAvB,CACA,MACEF,OAAM,CAACD,QAAD,CAAN,CACGI,WADH,GAEGC,OAFH,kBAEWd,CAAC,CAACE,MAAF,CAASC,KAFpB,0CAEW,gBAAgBU,WAAhB,EAFX,EAE4C,CAAC,CAH/C,CAKD,CAPe,CAAhB,CAQA,GAAIP,OAAO,CAACS,MAAZ,CAAoB,CAClBjB,aAAa,CAACQ,OAAD,CAAb,CACD,CAFD,IAEO,CACLR,aAAa,CAAC,IAAD,CAAb,CACD,CACF,CAdD,IAcO,CACLA,aAAa,CAACL,UAAD,CAAb,CACD,CAEDG,SAAS,CAACK,OAAD,CAAT,CACD,CAtBD,CAuBA;AACA;AAEA;AACA;AACA;AACA;AACA;AACArB,SAAS,CAAC,UAAM,CACdkB,aAAa,CAACL,UAAD,CAAb,CACD,CAFQ,CAEN,CAACA,UAAD,CAFM,CAAT,CAGA,GAAI,CAACI,UAAD,EAAeA,UAAU,CAACkB,MAAX,GAAsB,CAAzC,CAA4C,CAC1C,mBAAO,+CAAP,CACD,CACD,mBACE,MAAC,MAAD,yBACE,YAAK,SAAS,CAAC,YAAf,uBACE,cACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAEhB,kBAFZ,CAGE,KAAK,CAAEJ,MAHT,CAIE,SAAS,CAAC,SAJZ,CAKE,WAAW,CAAED,WALf,CAME,GAAG,CAAEF,QANP,EADF,EADF,cAWE,YAAK,SAAS,CAAC,UAAf,UACGK,UADH,SACGA,UADH,iBACGA,UAAU,CAAEmB,GAAZ,CAAgB,SAACR,IAAD,CAAOS,KAAP,CAAiB,CAChC,mBACE,aAEE,SAAS,CAAC,6EAFZ,wBAIE,sBAAOT,IAAI,CAACU,EAAZ,EAJF,cAKE,wBACGV,IAAI,CAACG,SADR,KACoBH,IAAI,CAACI,QADzB,GALF,cAQE,sBAAOJ,IAAI,CAACW,WAAZ,EARF,cASE,aAAK,SAAS,CAAC,iCAAf,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,eACE,OAAO,CAAE,kBAAM,CACb5B,QAAQ,mBAAYiB,IAAI,CAACU,EAAjB,EAAR,CACD,CAHH,CAIE,SAAS,CAAC,6BAJZ,oBADF,cASE,eACE,SAAS,CAAC,4BADZ,CAEE,OAAO,CAAE,kBAAM,CACb5B,QAAQ,CAAC,CAAE8B,IAAI,CAAE,iBAAR,CAA2BC,OAAO,CAAEb,IAAI,CAACU,EAAzC,CAAD,CAAR,CACD,CAJH,oBATF,GADF,cAmBE,KAAC,WAAD,EAAa,IAAI,CAAEV,IAAnB,EAnBF,GATF,GACOS,KADP,CADF,CAiCD,CAlCA,CADH,EAXF,GADF,CAmDD,CA/FD,CAiGA,cAAe7B,gBAAf"},"metadata":{},"sourceType":"module"}